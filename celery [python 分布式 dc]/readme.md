参考文章

1. [python之celery使用详解一](https://www.cnblogs.com/cwp-bg/p/8759638.html)

参考文章1从常规编程思路中讲解了celery的架构, 以及任务如何发布, worker如何启动等操作. 比其他相当于照抄官方文档的文章好了很多.

在celery中, app对象的功能十分全面, 可以装饰常规函数为task对象, 也可以在代码中写为以worker角色运行, 实例化时的参数指定了这个task会发送到broker的地址, 作为worker时也可以从这个指定的broker中获取任务. 

------

celery中有任务队列和结果队列, 与rq相比多了一个结果队列. 不过结果队列默认是不启用的, 毕竟是异步任务, 不需要立即得到结果, 就算想要得到结果也应该是先把下发的任务入库, worker执行完成时再把结果入库, 当然还很可能包含执行时间, 异常状态什么的.

另外, 当初十分不理解celery到底是干啥的, 其实主要是因为不理解ta的调度模型. 在我自己构想的任务调度模型中, 是传统的生产者+消费者+消息队列结构. 不过在学习celery时, 就会发现ta好像没有生产者的概念, 而是先通过定义任务对象, 然后直接启动消费者就可以开始执行了. 这让我对任务对象的来源非常疑惑 - 总得让我有一个循环去创建任务吧...
